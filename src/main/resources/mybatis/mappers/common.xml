<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="common">

	<select id="findAllAttendanceSchedule" resultType="attendanceScheduleVo">
		<![CDATA[
			select * from attendance_schedule;
		]]>
	</select>
	<select id="findAllAttendanceScheduleByNo" resultType="attendanceScheduleVo">
		<![CDATA[
			select * from attendance_schedule where no = #{no};
		]]>
	</select>
	<insert id="insertAttendanceSchedule" parameterType="attendanceScheduleVo">
		<![CDATA[
			insert into attendance_schedule(no, start_date, end_date, status, remark, is_confirmed, hospital_no, employee_no, employee_no1, hospital_no1) 
			values (#{no},#{startDate}, #{endDate}, #{status}, #{remark}, #{is_confirmed}, #{hospital_no}, #{employee_no}, #{employee_no1}, #{hospital_no1});
		]]>
		<selectKey keyProperty="no" resultType="long" order="AFTER">
			<![CDATA[
				select last_insert_id();
			]]>
		</selectKey>
	</insert>
	
	<update id="updateAttendanceSchedule" parameterType="long">
		<![CDATA[
			update attendance_schedule 
			set start_date = #{startDate}, end_date = #{endDate}, status = #{status}, remark = #{remark},
			is_confirmed = #{isConfirmed}, hospital_no = #{hospitalNo}, employee_no = #{employeeNo},
			employeeNo1 = #{employeeNo1}, hopistal_no1 = #{hospitalNo1} 
			where no = #{no}
		]]>
	</update>	
	<delete id="deleteHospitalAdmin" parameterType="long">
		<![CDATA[
			delete from attendance_schedule where no = #{no};
		]]>
	</delete>
</mapper>